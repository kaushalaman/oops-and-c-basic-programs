n,m=input().split()
a=[input() for i in range(n)]
print a
p=[input() for i in range(n)]
print p
d={}
for i in range(n):
	d[a[i]]=p[i]
print d;
while(m):
	a=[d[a[i]] for i in range(n)]
	m=m-1
print a
	

	
